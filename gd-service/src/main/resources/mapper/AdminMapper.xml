<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.project.mapper.AdminMapper">
    <!--分页查询普通用户-->
    <select id="queryUser" resultType="com.project.vo.user.UserVO">
        select id,
               user_name,
               user_phone,
               user_avatar,
               user_gender,
               user_birthday,
               user_profile,
               user_location,
               user_hometown,
               user_profession,
               user_tags,
               create_time,
               user_role
        from user
        where user_role = 'user'
          and is_delete = 0
    </select>

    <!--用户名或手机号模糊查询用户-->
    <select id="queryLikeUser" resultType="com.project.vo.user.UserVO">
        select id,
               user_name,
               user_phone,
               user_password,
               user_avatar,
               user_gender,
               user_birthday,
               user_profile,
               user_location,
               user_hometown,
               user_profession,
               user_tags,
               create_time,
               user_role
        from user
        where is_delete = 0
          and user_role = 'user'
          and (user_name like CONCAT('%', #{keyword}, '%') or user_phone like CONCAT('%', #{keyword}, '%'))
    </select>
</mapper>
